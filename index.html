<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Бланк метеосередній</title>

  <style>
    :root{
      --paper:#fff;
      --bg:#f2f2f2;
      --grid:#6f6f6f;
      --inactive: var(--grid);
      --ink:#111;

      /* размеры */
      --cell:24px;

      /* ✅ типографика (адаптивно) */
      --fs-main: clamp(12px, 3.2vw, 16px);
      --fs-sheet: clamp(10px, 2.7vw, 14px);
      --fs-sheet-strong: clamp(11px, 2.9vw, 15px);

      /* ✅ минимальные горизонтальные отступы */
      --pad-x: 2px;        /* общий */
      --pad-x-sheet: 2px;  /* внутри bottom-sheet таблиц */

      /* толщина линий */
      --bw: 2px;

      /* bottom sheet */
      --sheet-bg:#ffffff;
      --sheet-border:#d8d8d8;
      --sheet-shadow: 0 -14px 40px rgba(0,0,0,.22);
      --overlay: rgba(0,0,0,.45);
      --radius: 16px;
    }

    *{ box-sizing:border-box; }

    html{
      -webkit-text-size-adjust:100%;
      text-size-adjust:100%;
    }

    body{
      margin:0;
      background:var(--bg);
      font-family:"Times New Roman", Times, serif;
      color:var(--ink);
    }

    /* ✅ страница не разъезжается на телефоне */
    .page{
      width:min(210mm, 100vw);
      min-height:297mm;
      margin:16px auto;
      padding:10mm 10mm;
      background:var(--paper);
      box-shadow:0 10px 35px rgba(0,0,0,.12);
      overflow:hidden;
    }

    table{
      width:100%;
      border-collapse:collapse;
      table-layout:fixed;
      border:var(--bw) solid var(--grid);
    }

    th, td{
      border:var(--bw) solid var(--grid);
      padding:0 var(--pad-x);
      vertical-align:middle;
      text-align:center;

      /* ✅ уменьшили и сделали ровные цифры */
      font-size:var(--fs-main);
      line-height:1;

      /* ✅ фикс высоты строки */
      height:var(--cell);
      overflow:hidden;

      /* ✅ визуальная ровность чисел */
      font-variant-numeric: tabular-nums lining-nums;
      font-feature-settings: "tnum" 1, "lnum" 1;
      letter-spacing:0;
    }

    .title{
      height:70px;
      font-weight:700;
      font-size:clamp(14px, 4vw, 20px);
      line-height:1.15;
      text-align:center;
      padding:6px 8px;
    }

    tr.row{ height:var(--cell); }
    tr.row > td{ height:var(--cell); }

    td.is-inactive{
      background:var(--inactive);
      color:#fff;
    }

    td.align-left{
      text-align:left;
      padding-left:6px;
    }

    td.has-input,
    td.has-prefix{
      padding:0;
    }

    .cell-input{
      width:100%;
      height:100%;
      display:block;
      border:0;
      outline:none;
      background:transparent;
      color:var(--ink);
      font:inherit;
      font-size:var(--fs-main);
      line-height:1;
      text-align:center;
      padding:0;
      margin:0;
      appearance:none;
      -webkit-appearance:none;
      border-radius:0;
      caret-color: var(--ink);
      touch-action: manipulation;
    }
    .cell-input::placeholder,
    .prefix-input::placeholder{
      color: rgba(17,17,17,.45);
    }

    input::-webkit-outer-spin-button,
    input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }

    .prefix-wrap{
      height:100%;
      display:flex;
      align-items:center;
      gap:6px;             /* ✅ меньше */
      padding:0 6px;       /* ✅ меньше */
      min-width:0;
    }
    .prefix{
      white-space:nowrap;
      flex:0 0 auto;
    }
    .prefix-input{
      flex:1 1 auto;
      min-width:0;
      height:100%;
      border:0;
      outline:none;
      background:transparent;
      color:var(--ink);
      font:inherit;
      font-size:var(--fs-main);
      line-height:1;
      text-align:left;
      padding:0;
      margin:0;
      appearance:none;
      -webkit-appearance:none;
      border-radius:0;
      caret-color: var(--ink);
      touch-action: manipulation;
    }

    td.cell-neg{
      background:#FFF2CC;
      color:#D60000;
      font-weight:700;
      font-size:var(--fs-main);
      line-height:1;
      text-align:center;
      vertical-align:middle;
      padding:0 var(--pad-x);
    }

    td.cell-tau{
      background:#FFF2CC;
      color:#111;
      font-weight:700;
      text-align:center;
      vertical-align:middle;
      padding:0 var(--pad-x);
      line-height:1.05;
      font-size:var(--fs-main);
    }

    /* =========================
       Bottom Sheet (70% height)
       ========================= */
    .sheet-overlay{
      position:fixed;
      inset:0;
      background:var(--overlay);
      opacity:0;
      pointer-events:none;
      transition: opacity .18s ease;
      z-index:1000;
    }

    .bottom-sheet{
      position:fixed;
      left:0;
      right:0;
      bottom:0;
      height:70vh;
      max-height:70vh;
      background:var(--sheet-bg);
      border-top:1px solid var(--sheet-border);
      box-shadow:var(--sheet-shadow);
      border-radius: var(--radius) var(--radius) 0 0;
      transform: translateY(105%);
      transition: transform .22s ease;
      z-index:1001;
      display:flex;
      flex-direction:column;
      overscroll-behavior: contain;
      -webkit-overflow-scrolling: touch;
    }

    @media (min-width: 900px){
      .bottom-sheet{
        width:min(860px, calc(100% - 32px));
        left:50%;
        right:auto;
        transform: translate(-50%, 105%);
        bottom:16px;
        border-radius: var(--radius);
        border:1px solid var(--sheet-border);
      }
      .sheet-overlay{ backdrop-filter: blur(2px); }
    }

    /* overlay visible if any sheet is open */
    body.sheet-open-virt .sheet-overlay,
    body.sheet-open-t2 .sheet-overlay,
    body.sheet-open-t3 .sheet-overlay{
      opacity:1;
      pointer-events:auto;
    }

    /* open specific sheet */
    body.sheet-open-virt .sheet-virt{ transform: translateY(0); }
    body.sheet-open-t2  .sheet-t2  { transform: translateY(0); }
    body.sheet-open-t3  .sheet-t3  { transform: translateY(0); }

    @media (min-width: 900px){
      body.sheet-open-virt .sheet-virt{ transform: translate(-50%, 0); }
      body.sheet-open-t2  .sheet-t2  { transform: translate(-50%, 0); }
      body.sheet-open-t3  .sheet-t3  { transform: translate(-50%, 0); }
    }

    .sheet-header{
      padding:10px 12px 8px;
      border-bottom:1px solid #e7e7e7;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }
    .sheet-handle{
      width:46px;
      height:5px;
      border-radius:999px;
      background:#cfcfcf;
      margin:0 auto 6px;
    }
    .sheet-title{
      font-weight:700;
      font-size:16px;
      line-height:1.1;
    }
    .sheet-close{
      border:0;
      background:transparent;
      font:inherit;
      font-size:20px;
      line-height:1;
      padding:6px 10px;
      cursor:pointer;
    }
    .sheet-body{
      padding:10px; /* ✅ чуть меньше */
      overflow:auto;
    }

    /* ================
       Sheet: Table 1
       ================ */
    .virt-wrap{
      border:1px solid #cfcfcf;
      border-radius:12px;
      padding:10px;
      background:#fff;
    }
    .virt-headline{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:10px;
      margin-bottom:8px;
    }
    .virt-h{
      font-weight:700;
      font-size:16px;
      line-height:1.1;
      text-align:center;
      flex:1 1 auto;
    }
    .virt-id{
      color:#c00000;
      font-weight:700;
      white-space:nowrap;
      flex:0 0 auto;
      font-size:14px;
    }

    .virt-table{
      width:100%;
      border-collapse:collapse;
      table-layout:fixed;
      border:var(--bw) solid var(--grid);
    }
    .virt-table th, .virt-table td{
      border:var(--bw) solid var(--grid);
      padding:2px var(--pad-x-sheet);
      text-align:center;
      vertical-align:middle;
      font-size:var(--fs-sheet);
      line-height:1.05;
      height:auto;
      white-space:nowrap; /* ✅ не распухает */
    }
    .virt-table .colhead{
      font-weight:700;
      font-size:var(--fs-sheet-strong);
      background:#ffffff;
    }
    .virt-table .rowhead{
      font-weight:700;
      width:72px; /* ✅ уже */
      background:#ffffff;
    }
    .virt-blue{
      background:#9DC3E6;
      font-weight:700;
    }
    .virt-peach{
      background:#F8CBAD;
      font-weight:700;
    }

    /* ================
       Sheet: Table 2
       ================ */
    .t2-wrap{
      border:1px solid #cfcfcf;
      border-radius:12px;
      padding:10px;
      background:#fff;
    }
    .t2-headline{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:10px;
      margin-bottom:8px;
    }
    .t2-h{
      font-weight:700;
      font-size:16px;
      line-height:1.1;
      text-align:center;
      flex:1 1 auto;
    }
    .t2-id{
      color:#c00000;
      font-weight:700;
      white-space:nowrap;
      flex:0 0 auto;
      font-size:14px;
    }

    .t2-scroll{
      overflow:auto;
      border-radius:10px;
      -webkit-overflow-scrolling: touch;
    }

    .t2-table{
      border-collapse:collapse;
      table-layout:fixed;
      border:var(--bw) solid var(--grid);
      width:100%;
      min-width:0; /* ✅ даём шанс влезть */
    }
    .t2-table th, .t2-table td{
      border:var(--bw) solid var(--grid);
      text-align:center;
      vertical-align:middle;
      padding:2px var(--pad-x-sheet); /* ✅ минимально */
      height:auto;
      line-height:1.02;
      font-size:var(--fs-sheet);
      background:#fff;
      white-space:nowrap; /* ✅ не расширяет */
    }
    .t2-table .t2-title{
      font-weight:700;
      font-size:var(--fs-sheet-strong);
      padding:6px 6px;
      background:#fff;
      white-space:normal;
    }
    .t2-table .t2-sub{
      font-weight:700;
      font-size:var(--fs-sheet-strong);
      background:#fff;
      white-space:nowrap;
    }
    .t2-table .t2-y{
      width:56px; /* ✅ было 86 */
      font-weight:700;
      background:#fff;
    }
    .t2-table .t2-tophead{
      background:#B69CF3;
      font-weight:700;
      font-size:var(--fs-sheet);
    }

    .t2cell{
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      gap:1px;              /* ✅ меньше */
      padding:1px 0;        /* ✅ меньше */
      min-height:34px;      /* ✅ меньше */
    }
    .t2cell .neg{
      color:#111;
      font-weight:700;
      font-size:var(--fs-sheet-strong);
      line-height:1;
    }
    .t2cell .pos{
      color:#D60000;
      font-weight:700;
      font-size:var(--fs-sheet-strong);
      line-height:1;
    }
    .t2cell .pos.na{
      color:#111;
      font-weight:700;
    }

    /* ================
       Sheet: Table 3
       ================ */
    .t3-wrap{
      border:1px solid #cfcfcf;
      border-radius:12px;
      padding:10px;
      background:#fff;
    }
    .t3-headline{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:10px;
      margin-bottom:8px;
    }
    .t3-h{
      font-weight:700;
      font-size:16px;
      line-height:1.1;
      text-align:center;
      flex:1 1 auto;
    }
    .t3-id{
      color:#c00000;
      font-weight:700;
      white-space:nowrap;
      flex:0 0 auto;
      font-size:14px;
    }
    .t3-note{
      font-size:13px;
      line-height:1.25;
      color:#222;
      margin:0 0 10px;
      text-align:center;
      font-weight:700;
    }

    .t3-scroll{
      overflow:auto;
      border-radius:10px;
      border:0;
      -webkit-overflow-scrolling: touch;
    }

    .t3-table,
    .t3-table2{
      border-collapse:collapse;
      table-layout:fixed;
      border:var(--bw) solid var(--grid);
      width:100%;
      min-width:0; /* ✅ шанс влезть */
      background:#fff;
    }
    .t3-table{ margin-bottom:12px; }

    .t3-table th, .t3-table td,
    .t3-table2 th, .t3-table2 td{
      border:var(--bw) solid var(--grid);
      text-align:center;
      vertical-align:middle;
      padding:2px var(--pad-x-sheet); /* ✅ минимально */
      height:auto;
      line-height:1.02;
      font-size:var(--fs-sheet);
      background:#fff;
      white-space:nowrap; /* ✅ держим ширину */
    }

    .t3-table .t3-title,
    .t3-table2 .t3-title{
      font-weight:700;
      font-size:var(--fs-sheet-strong);
      padding:6px 6px;
      background:#fff;
      white-space:normal;
    }
    .t3-table .t3-sub,
    .t3-table2 .t3-sub{
      font-weight:700;
      font-size:var(--fs-sheet-strong);
      background:#fff;
      white-space:nowrap;
    }

    .t3-table .t3-y,
    .t3-table2 .t3-y{
      width:120px;              /* можешь оставить */
      font-weight:700;
      background:#fff;

      /* ✅ разрешаем перенос */
      white-space:normal;
      overflow-wrap:anywhere;
      word-break:break-word;
      hyphens:auto;
    }

    .t3-table .t3-y2{
      width:120px;
      white-space:normal;
      overflow-wrap:anywhere;
      word-break:break-word;
      hyphens:auto;
    }

    .t3-table .t3-pink{
      background:#E6A6C6;
      font-weight:700;
      font-size:var(--fs-sheet-strong);
    }

    .t3-table .t3-right{
      width:160px; /* ✅ было 210 */
      font-weight:700;
      background:#FFF2CC;
      white-space:normal; /* заголовок пусть переносится */
    }
    .t3-table .t3-rightcell{
      font-weight:700;
      background:#FFF2CC;
      white-space:nowrap;
    }

    .t3-table2 .t3-right{
      width:160px; /* ✅ было 210 */
      font-weight:700;
      background:#fff;
      white-space:normal;
    }

    /* opener cells / links */
    [data-open-sheet]{
      user-select:none;
      cursor:pointer;
    }
    .sheet-link{
      cursor:pointer;
      user-select:none;
      font-weight:700;
    }

    /* =========================
   ✅ Перенос текста: Table 1
   ========================= */

    /* у тебя сейчас .virt-table th, .virt-table td { white-space:nowrap; }
      оставляем nowrap для td (цифры), но разрешаем перенос для th (текст) */
    .virt-table th{
      white-space: normal;
      overflow-wrap: anywhere;   /* переноси, если не влазит */
      word-break: break-word;    /* подстраховка */
      hyphens: auto;             /* переносы по слогам (если браузер умеет) */
    }

    /* (не обязательно, но явно фиксируем поведение цифр) */
    .virt-table td{
      white-space: nowrap;
    }


    /* =========================
      ✅ Перенос текста: Table 3
      ========================= */

    /* у тебя сейчас .t3-table th, td и .t3-table2 th, td держатся nowrap
      оставляем nowrap для td (цифры), но разрешаем перенос для th (заголовки) */
    .t3-table th,
    .t3-table2 th{
      white-space: normal;
      overflow-wrap: anywhere;
      word-break: break-word;
      hyphens: auto;
    }

    .cell-tau.is-plain{
      font-weight:400;
    }

        /* ✅ кликабельные T.*: аккуратно, без подчеркиваний */
    td[data-open-sheet],
    .sheet-link{
      font-weight:700;     /* как ты хотел: жирным */
      cursor:pointer;
      color:#0b3a6b;        /* чуть “интерактивнее”, но не кислотно */
      -webkit-tap-highlight-color: rgba(11,58,107,.18);
    }

    /* очень мягкий feedback при тапе */
    td[data-open-sheet]:active,
    .sheet-link:active{
      background: rgba(11,58,107,.08);
    }

    /* на десктопе — легкий hover (если есть мышь) */
    @media (hover:hover){
      td[data-open-sheet]:hover,
      .sheet-link:hover{
        background: rgba(11,58,107,.06);
      }
    }


    /* цифры/значения не ломаем */
    .t3-table td,
    .t3-table2 td{
      white-space: nowrap;
    }


    /* =========================
       ✅ Мобильная “супер-экономия”
       ========================= */

    /* ✅ клетки с длинным вводом могут расти по высоте и не обрезают содержимое */
    td.wrap-cell{
      height:auto;          /* даём таблице увеличиваться */
      overflow:visible;     /* не режем input/бейдж */
    }

    /* ✅ перенос в строке "prefix + input + badge" */
    td.wrap-cell .prefix-wrap{
      height:auto;          /* не держим 100% */
    }

    /* для бейджа по умолчанию (на десктопе можно оставить как есть) */
    td.wrap-cell .calc-badge{
      line-height:1.1;
    }


    @media (max-width: 520px){
      :root{
        --bw: 1px;            /* ✅ тоньше линии */
        --pad-x: 1px;         /* ✅ почти ноль */
        --pad-x-sheet: 1px;   /* ✅ почти ноль */
        --cell: 22px;         /* ✅ чуть ниже */
      }

      .page{
        margin:0;
        padding:12px 10px;
        box-shadow:none;
        border-radius:0;
      }

      .sheet-body{ padding:8px; }
      .virt-wrap, .t2-wrap, .t3-wrap{ padding:8px; }

      td.align-left{ padding-left:4px; }

      .prefix-wrap{
        gap:4px;
        padding:0 4px;
      }

      /* подпись-результат справа от αw₀ */
      /* ✅ на телефоне бейдж уходит вниз, чтобы не ломать редактирование */
      td.wrap-cell .prefix-wrap{
        flex-wrap:wrap;
        align-items:flex-start;
        row-gap:2px;
      }

      td.wrap-cell .prefix-input{
        flex:1 1 120px;     /* инпут занимает строку нормально */
        min-width:90px;
      }

      td.wrap-cell .calc-badge{
        flex:1 1 100%;      /* бейдж на новую строку */
        white-space:normal; /* разрешаем перенос */
        margin-left:0;
        opacity:.85;
        font-weight:700;
      }

    }
  </style>
</head>

<body>
  <div class="page">
    <table aria-label="Бланк складання наближеного бюлетеня метеосередній">
  <tr>
    <th class="title" colspan="8" data-type="label">
      <div>БЛАНК СКЛЛАДАННЯ НАБЛИЖЕНОГО БЮЛЕТЕНЯ МЕТЕОСЕРЕДНІЙ</div>
      <div>ЗА ДАНИМИ ДМК</div>
    </th>
  </tr>

  <!-- Ряд 1 -->
  <tr class="row">
    <td rowspan="2" data-type="label">t₀</td>
    <td rowspan="2" class="has-input" data-type="label">
      <input class="cell-input" type="text" inputmode="text" placeholder="ввід" pattern="*" autocomplete="off" autocapitalize="off" spellcheck="false" />
    </td>

    <td rowspan="2" data-type="label">H₀</td>
    <td rowspan="2" class="has-input" data-type="label">
      <input class="cell-input" type="text" inputmode="text" placeholder="ввід" pattern="*" autocomplete="off" autocapitalize="off" spellcheck="false" />
    </td>

    <td class="is-inactive" data-type="label"></td>

    <!-- ✅ оставили input: день/час/хв -->
    <td class="has-input" data-type="label">
      <input class="cell-input" type="text" inputmode="numeric" placeholder="ввід" pattern="[0-9]*" autocomplete="off" autocapitalize="off" spellcheck="false" />
    </td>
    <td class="has-input" data-type="label">
      <input class="cell-input" type="text" inputmode="numeric" placeholder="ввід" pattern="[0-9]*" autocomplete="off" autocapitalize="off" spellcheck="false" />
    </td>
    <td class="has-input" data-type="label">
      <input class="cell-input" type="text" inputmode="numeric" placeholder="ввід" pattern="[0-9]*" autocomplete="off" autocapitalize="off" spellcheck="false" />
    </td>
  </tr>

  <!-- Ряд 2 -->
  <tr class="row">
    <td class="is-inactive" data-type="label"></td>
    <td data-type="label">день</td>
    <td data-type="label">час</td>
    <td data-type="label">хв</td>
  </tr>

  <!-- Ряд 3 -->
  <tr class="row">
    <td rowspan="2" data-type="label" data-open-sheet="virt">+ΔTᵥ<br>(T.1)</td>
    <!-- ✅ ΔTᵥ будет тут (output) -->
    <td rowspan="2" data-type="label" data-out="dTv"></td>

    <td class="cell-tau is-plain" rowspan="2" data-type="label">-Hno</td>
    <td class="cell-neg" rowspan="2" data-type="label">750</td>

    <td class="is-inactive" data-type="label"></td>
    <td class="is-inactive" data-type="label"></td>
    <td class="is-inactive" data-type="label"></td>
    <td class="is-inactive" data-type="label"></td>
  </tr>

  <!-- Ряд 4 -->
  <tr class="row">
    <td class="is-inactive" data-type="label"></td>
    <td class="is-inactive" data-type="label"></td>

    <!-- ✅ “положка” над ΔH₀ / Δτ₀ справа -->
    <td data-type="label" data-out="slotDH0"></td>
    <td data-type="label" data-out="slotDTau0"></td>
  </tr>

  <!-- Ряд 5 -->
  <tr class="row">
    <td rowspan="2" data-type="label">τ₀</td>
    <!-- ✅ τ₀ output -->
    <td rowspan="2" data-type="label" data-out="tau0"></td>

    <td rowspan="2" data-type="label">ΔH₀</td>
    <!-- ✅ ΔH₀ output -->
    <td rowspan="2" data-type="label" data-out="dH0"></td>

    <td class="is-inactive" data-type="label"></td>
    <td class="is-inactive" data-type="label"></td>

    <td data-type="label">ΔH₀</td>
    <td data-type="label">Δτ₀</td>
  </tr>

  <!-- Ряд 6 -->
  <tr class="row">
    <td class="is-inactive" data-type="label"></td>
    <td class="is-inactive" data-type="label"></td>
    <td class="is-inactive" data-type="label"></td>
    <td class="is-inactive" data-type="label"></td>
  </tr>

  <!-- Ряд 7 -->
  <tr class="row">
    <td class="cell-tau is-plain" rowspan="2" data-type="label">-τₙ⁰</td>
    <td class="cell-neg" rowspan="2" data-type="label">-15,9</td>

    <td class="is-inactive" data-type="label"></td>
    <td class="is-inactive" data-type="label"></td>
    <td class="is-inactive" data-type="label"></td>
    <td class="is-inactive" data-type="label"></td>
    <td class="is-inactive" data-type="label"></td>

    <!-- ✅ оставили input: h, мп -->
    <td class="has-input" data-type="label">
      <input class="cell-input" type="text" inputmode="text" placeholder="ввід" pattern="*" autocomplete="off" autocapitalize="off" spellcheck="false" />
    </td>
  </tr>

  <!-- Ряд 8 -->
  <tr class="row">
    <td class="is-inactive" data-type="label"></td>
    <td class="is-inactive" data-type="label"></td>
    <td class="is-inactive" data-type="label"></td>
    <td class="is-inactive" data-type="label"></td>
    <td class="is-inactive" data-type="label"></td>
    <td data-type="label">h, мп</td>
  </tr>

  <!-- Ряд 9 -->
  <tr class="row">
    <td rowspan="2" data-type="label" data-open-sheet="t2">Δτ₀<br>(T.2)</td>
    <!-- ✅ Δτ₀ output -->
    <td rowspan="2" data-type="label" data-out="dTau0"></td>

    <!-- ✅ оставили input: αw₀ -->
    <td class="align-left wrap-cell" rowspan="2" colspan="2" data-type="label">
    <div class="prefix-wrap">
      <span class="prefix">αw₀ = </span>
      <input class="prefix-input" type="text" inputmode="text" placeholder="ввід" pattern="*" autocomplete="off" autocapitalize="off" spellcheck="false" />
    </div>
  </td>

  <td class="align-left wrap-cell" rowspan="2" colspan="2" data-type="label">
    <div class="prefix-wrap">
      <span class="prefix">W₀ = </span>
      <input class="prefix-input" type="text" inputmode="text" placeholder="ввід" pattern="*" autocomplete="off" autocapitalize="off" spellcheck="false" />
    </div>
  </td>

    <td class="is-inactive" data-type="label"></td>
    <td class="is-inactive" data-type="label"></td>
  </tr>

  <!-- Ряд 10 -->
  <tr class="row">
    <td class="is-inactive" data-type="label"></td>
    <td class="is-inactive" data-type="label"></td>
  </tr>

  <!-- Ряд 11 (шапка) -->
  <tr class="row">
    <td rowspan="2" data-type="label">Yб</td>
    <td rowspan="2" data-type="label">Δτᵧ</td>
    <td rowspan="2" data-type="label">Δαwᵧ</td>
    <td rowspan="2" data-type="label">αw₀ + αwᵧ</td>

    <!-- ❌ убрали input Wᵧ, оставили только ссылку на T.3 -->
    <td class="align-left" rowspan="2" colspan="2" data-type="label">
      <div class="prefix-wrap">
        <span class="prefix sheet-link" data-open-sheet="t3">Wᵧ = <br>(T.3)</span>
      </div>
    </td>

    <td class="is-inactive" data-type="label"></td>
    <td class="is-inactive" data-type="label"></td>
  </tr>

  <!-- Ряд 12 -->
  <tr class="row">
    <td class="is-inactive" data-type="label"></td>
    <td class="is-inactive" data-type="label"></td>
  </tr>

  <!-- ====== Данные (без input) ====== -->
  <tr class="row" data-y="200">
    <td data-type="label">200</td>
    <td data-type="label" data-out="dtauy-200"></td>
    <td class="cell-neg" data-type="label">1-00</td>
    <td data-type="label" data-out="asum-200"></td>
    <td colspan="2" data-type="label" data-out="wy-200"></td>
    <td colspan="2" class="has-prefix" data-type="label">
      <div class="prefix-wrap">
        <span class="prefix">02-</span>
        <span class="prefix-input" data-out="bundle-200"></span>
      </div>
    </td>
  </tr>

  <tr class="row" data-y="400">
    <td data-type="label">400</td>
    <td data-type="label" data-out="dtauy-400"></td>
    <td class="cell-neg" data-type="label">2-00</td>
    <td data-type="label" data-out="asum-400"></td>
    <td colspan="2" data-type="label" data-out="wy-400"></td>
    <td colspan="2" class="has-prefix" data-type="label">
      <div class="prefix-wrap">
        <span class="prefix">04-</span>
        <span class="prefix-input" data-out="bundle-400"></span>
      </div>
    </td>
  </tr>

  <tr class="row" data-y="800">
    <td data-type="label">800</td>
    <td data-type="label" data-out="dtauy-800"></td>
    <td class="cell-neg" data-type="label">3-00</td>
    <td data-type="label" data-out="asum-800"></td>
    <td colspan="2" data-type="label" data-out="wy-800"></td>
    <td colspan="2" class="has-prefix" data-type="label">
      <div class="prefix-wrap">
        <span class="prefix">08-</span>
        <span class="prefix-input" data-out="bundle-800"></span>
      </div>
    </td>
  </tr>

  <tr class="row" data-y="1200">
    <td data-type="label">1200</td>
    <td data-type="label" data-out="dtauy-1200"></td>
    <td class="cell-neg" data-type="label">3-00</td>
    <td data-type="label" data-out="asum-1200"></td>
    <td colspan="2" data-type="label" data-out="wy-1200"></td>
    <td colspan="2" class="has-prefix" data-type="label">
      <div class="prefix-wrap">
        <span class="prefix">12-</span>
        <span class="prefix-input" data-out="bundle-1200"></span>
      </div>
    </td>
  </tr>

  <tr class="row" data-y="1600">
    <td data-type="label">1600</td>
    <td data-type="label" data-out="dtauy-1600"></td>
    <td class="cell-neg" data-type="label">4-00</td>
    <td data-type="label" data-out="asum-1600"></td>
    <td colspan="2" data-type="label" data-out="wy-1600"></td>
    <td colspan="2" class="has-prefix" data-type="label">
      <div class="prefix-wrap">
        <span class="prefix">16-</span>
        <span class="prefix-input" data-out="bundle-1600"></span>
      </div>
    </td>
  </tr>

  <tr class="row" data-y="2000">
    <td data-type="label">2000</td>
    <td data-type="label" data-out="dtauy-2000"></td>
    <td class="cell-neg" data-type="label">4-00</td>
    <td data-type="label" data-out="asum-2000"></td>
    <td colspan="2" data-type="label" data-out="wy-2000"></td>
    <td colspan="2" class="has-prefix" data-type="label">
      <div class="prefix-wrap">
        <span class="prefix">20-</span>
        <span class="prefix-input" data-out="bundle-2000"></span>
      </div>
    </td>
  </tr>

  <tr class="row" data-y="2400">
    <td data-type="label">2400</td>
    <td data-type="label" data-out="dtauy-2400"></td>
    <td class="cell-neg" data-type="label">4-00</td>
    <td data-type="label" data-out="asum-2400"></td>
    <td colspan="2" data-type="label" data-out="wy-2400"></td>
    <td colspan="2" class="has-prefix" data-type="label">
      <div class="prefix-wrap">
        <span class="prefix">24-</span>
        <span class="prefix-input" data-out="bundle-2400"></span>
      </div>
    </td>
  </tr>

  <tr class="row" data-y="3000">
    <td data-type="label">3000</td>
    <td data-type="label" data-out="dtauy-3000"></td>
    <td class="cell-neg" data-type="label">5-00</td>
    <td data-type="label" data-out="asum-3000"></td>
    <td colspan="2" data-type="label" data-out="wy-3000"></td>
    <td colspan="2" class="has-prefix" data-type="label">
      <div class="prefix-wrap">
        <span class="prefix">30-</span>
        <span class="prefix-input" data-out="bundle-3000"></span>
      </div>
    </td>
  </tr>

  <tr class="row" data-y="4000">
    <td data-type="label">4000</td>
    <td data-type="label" data-out="dtauy-4000"></td>
    <td class="cell-neg" data-type="label">5-00</td>
    <td data-type="label" data-out="asum-4000"></td>
    <td colspan="2" data-type="label" data-out="wy-4000"></td>
    <td colspan="2" class="has-prefix" data-type="label">
      <div class="prefix-wrap">
        <span class="prefix">40-</span>
        <span class="prefix-input" data-out="bundle-4000"></span>
      </div>
    </td>
  </tr>
</table>

  </div>

  <!-- Overlay (общий) -->
  <div class="sheet-overlay" data-sheet-close></div>

  <!-- ========================
       Bottom Sheet — Table 1
       ======================== -->
  <section class="bottom-sheet sheet-virt" role="dialog" aria-modal="true" aria-label="Віртуальні поправки" aria-hidden="true">
    <div class="sheet-header">
      <div style="width:100%">
        <div class="sheet-handle" aria-hidden="true"></div>
        <div class="virt-id">Таблиця 1</div>
      </div>
      <button class="sheet-close" type="button" aria-label="Закрити" data-sheet-close>✕</button>
    </div>

    <div class="sheet-body">
      <div class="virt-wrap">
        <div class="virt-headline">
          <div class="virt-h">Віртуальні поправки</div>
        </div>

        <table class="virt-table" aria-label="Таблиця 1 — Віртуальні поправки">
          <tr>
            <th class="rowhead">t°C</th>
            <th class="colhead">Нижче 0</th>
            <th class="colhead">0-5</th>
            <th class="colhead">10-15</th>
            <th class="colhead">20</th>
            <th class="colhead">25</th>
            <th class="colhead">30</th>
            <th class="colhead">40</th>
          </tr>
          <tr>
            <th class="rowhead">ΔTᵥ,°C</th>
            <td class="virt-blue">0</td>
            <td class="virt-peach">+0,5</td>
            <td class="virt-peach">+1,0</td>
            <td class="virt-peach">+1,5</td>
            <td class="virt-peach">+2,0</td>
            <td class="virt-peach">+3,5</td>
            <td class="virt-peach">+4,5</td>
          </tr>
        </table>
      </div>
    </div>
  </section>

  <!-- ========================
       Bottom Sheet — Table 2
       ======================== -->
  <section class="bottom-sheet sheet-t2" role="dialog" aria-modal="true" aria-label="Середні відхилення температури" aria-hidden="true">
    <div class="sheet-header">
      <div style="width:100%">
        <div class="sheet-handle" aria-hidden="true"></div>
        <div class="t2-id">Таблиця 2</div>
      </div>
      <button class="sheet-close" type="button" aria-label="Закрити" data-sheet-close>✕</button>
    </div>

    <div class="sheet-body">
      <div class="t2-wrap">
        <div class="t2-scroll">
          <table class="t2-table" aria-label="Таблиця 2 — Середні відхилення температури Δτy в залежності від Δτ0">
            <tr>
              <th class="t2-title" colspan="15">Середні відхилення температури Δτᵧ в залежності від Δτ₀</th>
            </tr>
            <tr>
              <th class="t2-y" rowspan="2">Y, м</th>
              <th class="t2-sub" colspan="14">Δτ₀, град</th>
            </tr>
            <tr>
              <th class="t2-tophead">1</th><th class="t2-tophead">2</th><th class="t2-tophead">3</th><th class="t2-tophead">4</th>
              <th class="t2-tophead">5</th><th class="t2-tophead">6</th><th class="t2-tophead">7</th><th class="t2-tophead">8</th>
              <th class="t2-tophead">9</th><th class="t2-tophead">10</th><th class="t2-tophead">20</th><th class="t2-tophead">30</th>
              <th class="t2-tophead">40</th><th class="t2-tophead">50</th>
            </tr>

            <!-- 02 -->
            <tr>
              <th class="t2-y">02</th>
              <td><div class="t2cell"><div class="neg">−1</div><div class="pos">+1</div></div></td>
              <td><div class="t2cell"><div class="neg">−2</div><div class="pos">+2</div></div></td>
              <td><div class="t2cell"><div class="neg">−3</div><div class="pos">+3</div></div></td>
              <td><div class="t2cell"><div class="neg">−4</div><div class="pos">+4</div></div></td>
              <td><div class="t2cell"><div class="neg">−5</div><div class="pos">+5</div></div></td>
              <td><div class="t2cell"><div class="neg">−6</div><div class="pos">+6</div></div></td>
              <td><div class="t2cell"><div class="neg">−7</div><div class="pos">+7</div></div></td>
              <td><div class="t2cell"><div class="neg">−8</div><div class="pos">+8</div></div></td>
              <td><div class="t2cell"><div class="neg">−8</div><div class="pos">+9</div></div></td>
              <td><div class="t2cell"><div class="neg">−9</div><div class="pos">+10</div></div></td>
              <td><div class="t2cell"><div class="neg">−20</div><div class="pos">+20</div></div></td>
              <td><div class="t2cell"><div class="neg">−29</div><div class="pos">+30</div></div></td>
              <td><div class="t2cell"><div class="neg">−39</div><div class="pos na">—</div></div></td>
              <td><div class="t2cell"><div class="neg">−49</div><div class="pos na">—</div></div></td>
            </tr>

            <!-- 04 -->
            <tr>
              <th class="t2-y">04</th>
              <td><div class="t2cell"><div class="neg">−1</div><div class="pos">+1</div></div></td>
              <td><div class="t2cell"><div class="neg">−2</div><div class="pos">+2</div></div></td>
              <td><div class="t2cell"><div class="neg">−3</div><div class="pos">+3</div></div></td>
              <td><div class="t2cell"><div class="neg">−4</div><div class="pos">+4</div></div></td>
              <td><div class="t2cell"><div class="neg">−5</div><div class="pos">+5</div></div></td>
              <td><div class="t2cell"><div class="neg">−6</div><div class="pos">+6</div></div></td>
              <td><div class="t2cell"><div class="neg">−6</div><div class="pos">+7</div></div></td>
              <td><div class="t2cell"><div class="neg">−7</div><div class="pos">+8</div></div></td>
              <td><div class="t2cell"><div class="neg">−8</div><div class="pos">+9</div></div></td>
              <td><div class="t2cell"><div class="neg">−9</div><div class="pos">+10</div></div></td>
              <td><div class="t2cell"><div class="neg">−19</div><div class="pos">+20</div></div></td>
              <td><div class="t2cell"><div class="neg">−29</div><div class="pos">+30</div></div></td>
              <td><div class="t2cell"><div class="neg">−38</div><div class="pos na">—</div></div></td>
              <td><div class="t2cell"><div class="neg">−48</div><div class="pos na">—</div></div></td>
            </tr>

            <!-- 08 -->
            <tr>
              <th class="t2-y">08</th>
              <td><div class="t2cell"><div class="neg">−1</div><div class="pos">+1</div></div></td>
              <td><div class="t2cell"><div class="neg">−2</div><div class="pos">+2</div></div></td>
              <td><div class="t2cell"><div class="neg">−3</div><div class="pos">+3</div></div></td>
              <td><div class="t2cell"><div class="neg">−4</div><div class="pos">+4</div></div></td>
              <td><div class="t2cell"><div class="neg">−5</div><div class="pos">+5</div></div></td>
              <td><div class="t2cell"><div class="neg">−6</div><div class="pos">+6</div></div></td>
              <td><div class="t2cell"><div class="neg">−6</div><div class="pos">+7</div></div></td>
              <td><div class="t2cell"><div class="neg">−7</div><div class="pos">+8</div></div></td>
              <td><div class="t2cell"><div class="neg">−7</div><div class="pos">+9</div></div></td>
              <td><div class="t2cell"><div class="neg">−8</div><div class="pos">+10</div></div></td>
              <td><div class="t2cell"><div class="neg">−18</div><div class="pos">+20</div></div></td>
              <td><div class="t2cell"><div class="neg">−28</div><div class="pos">+30</div></div></td>
              <td><div class="t2cell"><div class="neg">−37</div><div class="pos na">—</div></div></td>
              <td><div class="t2cell"><div class="neg">−46</div><div class="pos na">—</div></div></td>
            </tr>

            <!-- 12 -->
            <tr>
              <th class="t2-y">12</th>
              <td><div class="t2cell"><div class="neg">−1</div><div class="pos">+1</div></div></td>
              <td><div class="t2cell"><div class="neg">−2</div><div class="pos">+2</div></div></td>
              <td><div class="t2cell"><div class="neg">−3</div><div class="pos">+3</div></div></td>
              <td><div class="t2cell"><div class="neg">−4</div><div class="pos">+4</div></div></td>
              <td><div class="t2cell"><div class="neg">−4</div><div class="pos">+5</div></div></td>
              <td><div class="t2cell"><div class="neg">−5</div><div class="pos">+6</div></div></td>
              <td><div class="t2cell"><div class="neg">−5</div><div class="pos">+7</div></div></td>
              <td><div class="t2cell"><div class="neg">−6</div><div class="pos">+8</div></div></td>
              <td><div class="t2cell"><div class="neg">−7</div><div class="pos">+9</div></div></td>
              <td><div class="t2cell"><div class="neg">−8</div><div class="pos">+10</div></div></td>
              <td><div class="t2cell"><div class="neg">−17</div><div class="pos">+20</div></div></td>
              <td><div class="t2cell"><div class="neg">−26</div><div class="pos">+30</div></div></td>
              <td><div class="t2cell"><div class="neg">−35</div><div class="pos na">—</div></div></td>
              <td><div class="t2cell"><div class="neg">−44</div><div class="pos na">—</div></div></td>
            </tr>

            <!-- 16 -->
            <tr>
              <th class="t2-y">16</th>
              <td><div class="t2cell"><div class="neg">−1</div><div class="pos">+1</div></div></td>
              <td><div class="t2cell"><div class="neg">−2</div><div class="pos">+2</div></div></td>
              <td><div class="t2cell"><div class="neg">−3</div><div class="pos">+3</div></div></td>
              <td><div class="t2cell"><div class="neg">−3</div><div class="pos">+4</div></div></td>
              <td><div class="t2cell"><div class="neg">−4</div><div class="pos">+5</div></div></td>
              <td><div class="t2cell"><div class="neg">−4</div><div class="pos">+6</div></div></td>
              <td><div class="t2cell"><div class="neg">−5</div><div class="pos">+7</div></div></td>
              <td><div class="t2cell"><div class="neg">−6</div><div class="pos">+8</div></div></td>
              <td><div class="t2cell"><div class="neg">−7</div><div class="pos">+9</div></div></td>
              <td><div class="t2cell"><div class="neg">−7</div><div class="pos">+10</div></div></td>
              <td><div class="t2cell"><div class="neg">−17</div><div class="pos">+20</div></div></td>
              <td><div class="t2cell"><div class="neg">−25</div><div class="pos">+30</div></div></td>
              <td><div class="t2cell"><div class="neg">−34</div><div class="pos na">—</div></div></td>
              <td><div class="t2cell"><div class="neg">−42</div><div class="pos na">—</div></div></td>
            </tr>

            <!-- 20 -->
            <tr>
              <th class="t2-y">20</th>
              <td><div class="t2cell"><div class="neg">−1</div><div class="pos">+1</div></div></td>
              <td><div class="t2cell"><div class="neg">−2</div><div class="pos">+2</div></div></td>
              <td><div class="t2cell"><div class="neg">−3</div><div class="pos">+3</div></div></td>
              <td><div class="t2cell"><div class="neg">−3</div><div class="pos">+4</div></div></td>
              <td><div class="t2cell"><div class="neg">−4</div><div class="pos">+5</div></div></td>
              <td><div class="t2cell"><div class="neg">−4</div><div class="pos">+6</div></div></td>
              <td><div class="t2cell"><div class="neg">−5</div><div class="pos">+7</div></div></td>
              <td><div class="t2cell"><div class="neg">−6</div><div class="pos">+8</div></div></td>
              <td><div class="t2cell"><div class="neg">−6</div><div class="pos">+9</div></div></td>
              <td><div class="t2cell"><div class="neg">−7</div><div class="pos">+10</div></div></td>
              <td><div class="t2cell"><div class="neg">−16</div><div class="pos">+20</div></div></td>
              <td><div class="t2cell"><div class="neg">−24</div><div class="pos">+30</div></div></td>
              <td><div class="t2cell"><div class="neg">−32</div><div class="pos na">—</div></div></td>
              <td><div class="t2cell"><div class="neg">−40</div><div class="pos na">—</div></div></td>
            </tr>

            <!-- 24 -->
            <tr>
              <th class="t2-y">24</th>
              <td><div class="t2cell"><div class="neg">−1</div><div class="pos">+1</div></div></td>
              <td><div class="t2cell"><div class="neg">−2</div><div class="pos">+2</div></div></td>
              <td><div class="t2cell"><div class="neg">−2</div><div class="pos">+3</div></div></td>
              <td><div class="t2cell"><div class="neg">−3</div><div class="pos">+4</div></div></td>
              <td><div class="t2cell"><div class="neg">−4</div><div class="pos">+5</div></div></td>
              <td><div class="t2cell"><div class="neg">−4</div><div class="pos">+6</div></div></td>
              <td><div class="t2cell"><div class="neg">−5</div><div class="pos">+7</div></div></td>
              <td><div class="t2cell"><div class="neg">−5</div><div class="pos">+8</div></div></td>
              <td><div class="t2cell"><div class="neg">−6</div><div class="pos">+9</div></div></td>
              <td><div class="t2cell"><div class="neg">−7</div><div class="pos">+10</div></div></td>
              <td><div class="t2cell"><div class="neg">−15</div><div class="pos">+20</div></div></td>
              <td><div class="t2cell"><div class="neg">−23</div><div class="pos">+30</div></div></td>
              <td><div class="t2cell"><div class="neg">−31</div><div class="pos na">—</div></div></td>
              <td><div class="t2cell"><div class="neg">−38</div><div class="pos na">—</div></div></td>
            </tr>

            <!-- 30 -->
            <tr>
              <th class="t2-y">30</th>
              <td><div class="t2cell"><div class="neg">−1</div><div class="pos">+1</div></div></td>
              <td><div class="t2cell"><div class="neg">−2</div><div class="pos">+2</div></div></td>
              <td><div class="t2cell"><div class="neg">−2</div><div class="pos">+3</div></div></td>
              <td><div class="t2cell"><div class="neg">−3</div><div class="pos">+4</div></div></td>
              <td><div class="t2cell"><div class="neg">−4</div><div class="pos">+5</div></div></td>
              <td><div class="t2cell"><div class="neg">−4</div><div class="pos">+6</div></div></td>
              <td><div class="t2cell"><div class="neg">−4</div><div class="pos">+7</div></div></td>
              <td><div class="t2cell"><div class="neg">−5</div><div class="pos">+8</div></div></td>
              <td><div class="t2cell"><div class="neg">−5</div><div class="pos">+9</div></div></td>
              <td><div class="t2cell"><div class="neg">−6</div><div class="pos">+10</div></div></td>
              <td><div class="t2cell"><div class="neg">−15</div><div class="pos">+20</div></div></td>
              <td><div class="t2cell"><div class="neg">−22</div><div class="pos">+30</div></div></td>
              <td><div class="t2cell"><div class="neg">−30</div><div class="pos na">—</div></div></td>
              <td><div class="t2cell"><div class="neg">−37</div><div class="pos na">—</div></div></td>
            </tr>

            <!-- 40 -->
            <tr>
              <th class="t2-y">40</th>
              <td><div class="t2cell"><div class="neg">−1</div><div class="pos">+1</div></div></td>
              <td><div class="t2cell"><div class="neg">−2</div><div class="pos">+2</div></div></td>
              <td><div class="t2cell"><div class="neg">−2</div><div class="pos">+3</div></div></td>
              <td><div class="t2cell"><div class="neg">−3</div><div class="pos">+4</div></div></td>
              <td><div class="t2cell"><div class="neg">−4</div><div class="pos">+5</div></div></td>
              <td><div class="t2cell"><div class="neg">−4</div><div class="pos">+6</div></div></td>
              <td><div class="t2cell"><div class="neg">−4</div><div class="pos">+7</div></div></td>
              <td><div class="t2cell"><div class="neg">−4</div><div class="pos">+8</div></div></td>
              <td><div class="t2cell"><div class="neg">−5</div><div class="pos">+9</div></div></td>
              <td><div class="t2cell"><div class="neg">−6</div><div class="pos">+10</div></div></td>
              <td><div class="t2cell"><div class="neg">−14</div><div class="pos">+20</div></div></td>
              <td><div class="t2cell"><div class="neg">−20</div><div class="pos">+30</div></div></td>
              <td><div class="t2cell"><div class="neg">−27</div><div class="pos na">—</div></div></td>
              <td><div class="t2cell"><div class="neg">−31</div><div class="pos na">—</div></div></td>
            </tr>

          </table>
        </div>
      </div>
    </div>
  </section>

  <!-- ========================
       Bottom Sheet — Table 3
       ======================== -->
  <section class="bottom-sheet sheet-t3" role="dialog" aria-modal="true" aria-label="Швидкість середнього вітру Wy" aria-hidden="true">
    <div class="sheet-header">
      <div style="width:100%">
        <div class="sheet-handle" aria-hidden="true"></div>
        <div class="t3-id">Таблиця 3</div>
      </div>
      <button class="sheet-close" type="button" aria-label="Закрити" data-sheet-close>✕</button>
    </div>

    <div class="sheet-body">
      <div class="t3-wrap">
        <div class="t3-headline">
          <div class="t3-h"></div>
        </div>

        <div class="t3-scroll" aria-label="Прокрутка таблиць Таблиці 3">
          <!-- ====== Верхня (від v0) ====== -->
          <table class="t3-table" aria-label="Таблиця 3 — Wy та Δαwy в залежності від v0">
            <tr>
              <th class="t3-title" colspan="15">Швидкість середнього вітру Wᵧ (м/с) та збільшення напрямку Δαwᵧ (под. кут.)<br>В залежності від швидкості наземного вітру v₀ та дальності зносу вітрових куль Δr</th>
            </tr>
            <tr>
              <th class="t3-y" rowspan="2">Стандартні висоти Y, м</th>
              <th class="t3-sub" colspan="13">v₀, м/с</th>
              <th class="t3-right" rowspan="2">Дирекційний кут вітру αw₀<br>збільшити на Δαwᵧ</th>
            </tr>
            <tr>
              <th class="t3-pink">3</th><th class="t3-pink">4</th><th class="t3-pink">5</th><th class="t3-pink">6</th><th class="t3-pink">7</th>
              <th class="t3-pink">8</th><th class="t3-pink">9</th><th class="t3-pink">10</th><th class="t3-pink">11</th><th class="t3-pink">12</th>
              <th class="t3-pink">13</th><th class="t3-pink">14</th><th class="t3-pink">15</th>
            </tr>

            <tr>
              <th class="t3-y2">200 — 02</th>
              <td>04</td><td>06</td><td>08</td><td>09</td><td>10</td><td>12</td><td>14</td><td>15</td><td>16</td><td>18</td><td>20</td><td>21</td><td>22</td>
              <td class="t3-rightcell">1-00</td>
            </tr>
            <tr>
              <th class="t3-y2">400 — 04</th>
              <td>05</td><td>07</td><td>10</td><td>11</td><td>12</td><td>14</td><td>17</td><td>18</td><td>20</td><td>22</td><td>23</td><td>25</td><td>27</td>
              <td class="t3-rightcell">2-00</td>
            </tr>
            <tr>
              <th class="t3-y2">800 — 08</th>
              <td>05</td><td>08</td><td>10</td><td>11</td><td>13</td><td>15</td><td>18</td><td>19</td><td>21</td><td>23</td><td>25</td><td>27</td><td>28</td>
              <td class="t3-rightcell">3-00</td>
            </tr>
            <tr>
              <th class="t3-y2">1200 — 12</th>
              <td>05</td><td>08</td><td>11</td><td>12</td><td>13</td><td>16</td><td>19</td><td>20</td><td>22</td><td>24</td><td>26</td><td>28</td><td>30</td>
              <td class="t3-rightcell">3-00</td>
            </tr>
            <tr>
              <th class="t3-y2">1600 — 16</th>
              <td>06</td><td>08</td><td>11</td><td>13</td><td>14</td><td>17</td><td>20</td><td>21</td><td>23</td><td>25</td><td>27</td><td>29</td><td>32</td>
              <td class="t3-rightcell">4-00</td>
            </tr>
            <tr>
              <th class="t3-y2">2000 — 20</th>
              <td>06</td><td>09</td><td>11</td><td>13</td><td>14</td><td>17</td><td>20</td><td>21</td><td>24</td><td>26</td><td>28</td><td>30</td><td>32</td>
              <td class="t3-rightcell">4-00</td>
            </tr>
            <tr>
              <th class="t3-y2">2400 — 24</th>
              <td>06</td><td>09</td><td>12</td><td>14</td><td>15</td><td>18</td><td>21</td><td>22</td><td>25</td><td>27</td><td>29</td><td>32</td><td>34</td>
              <td class="t3-rightcell">4-00</td>
            </tr>
            <tr>
              <th class="t3-y2">3000 — 30</th>
              <td>06</td><td>09</td><td>12</td><td>14</td><td>15</td><td>18</td><td>21</td><td>23</td><td>25</td><td>28</td><td>30</td><td>32</td><td>36</td>
              <td class="t3-rightcell">5-00</td>
            </tr>
            <tr>
              <th class="t3-y2">4000 — 40</th>
              <td>06</td><td>10</td><td>12</td><td>14</td><td>16</td><td>19</td><td>22</td><td>24</td><td>26</td><td>29</td><td>32</td><td>34</td><td>36</td>
              <td class="t3-rightcell">5-00</td>
            </tr>
          </table>

          <!-- ====== Нижня (від Δr) ====== -->
          <table class="t3-table2" aria-label="Таблиця 3 — Wy та Δαwy в залежності від дальності зносу вітрових куль Δr">
            <tr>
              <th class="t3-title" colspan="14">В залежності від дальності зносу вітрових куль Δr</th>
            </tr>
            <tr>
              <th class="t3-y" rowspan="2">Стандартні висоти Y, м</th>
              <th class="t3-sub" colspan="12">Дальність зносу вітрових куль Δr</th>
              <th class="t3-right" rowspan="2">Дирекційний кут вітру αw₀<br>збільшити на Δαwᵧ</th>
            </tr>
            <tr>
              <th>40</th><th>50</th><th>60</th><th>70</th><th>80</th><th>90</th><th>100</th><th>110</th><th>120</th><th>130</th><th>140</th><th>150</th>
            </tr>

            <tr>
              <th>200 — 02</th>
              <td>3</td><td>4</td><td>5</td><td>6</td><td>7</td><td>7</td><td>8</td><td>9</td><td>10</td><td>11</td><td>12</td><td>12</td>
              <td>0-00</td>
            </tr>
            <tr>
              <th>400 — 04</th>
              <td>4</td><td>5</td><td>6</td><td>7</td><td>8</td><td>9</td><td>10</td><td>11</td><td>12</td><td>13</td><td>14</td><td>15</td>
              <td>1-00</td>
            </tr>
            <tr>
              <th>800 — 08</th>
              <td>4</td><td>5</td><td>6</td><td>7</td><td>8</td><td>9</td><td>10</td><td>11</td><td>13</td><td>14</td><td>15</td><td>16</td>
              <td>2-00</td>
            </tr>
            <tr>
              <th>1200 — 12</th>
              <td>4</td><td>5</td><td>7</td><td>8</td><td>8</td><td>9</td><td>11</td><td>12</td><td>13</td><td>15</td><td>15</td><td>16</td>
              <td>2-00</td>
            </tr>
            <tr>
              <th>1600 — 16</th>
              <td>4</td><td>6</td><td>7</td><td>8</td><td>9</td><td>10</td><td>11</td><td>13</td><td>14</td><td>15</td><td>17</td><td>17</td>
              <td>3-00</td>
            </tr>
            <tr>
              <th>2000 — 20</th>
              <td>4</td><td>6</td><td>7</td><td>8</td><td>9</td><td>10</td><td>11</td><td>13</td><td>14</td><td>16</td><td>17</td><td>18</td>
              <td>3-00</td>
            </tr>
            <tr>
              <th>2400 — 24</th>
              <td>4</td><td>6</td><td>8</td><td>9</td><td>9</td><td>10</td><td>12</td><td>14</td><td>15</td><td>16</td><td>18</td><td>19</td>
              <td>3-00</td>
            </tr>
            <tr>
              <th>3000 — 30</th>
              <td>5</td><td>6</td><td>8</td><td>9</td><td>10</td><td>11</td><td>12</td><td>14</td><td>15</td><td>17</td><td>18</td><td>19</td>
              <td>4-00</td>
            </tr>
          </table>
        </div>
      </div>
    </div>
  </section>

<script>
  // Фокус в input при клике по td
  document.addEventListener('click', (e) => {
    const td = e.target.closest('td.has-input, td.has-prefix');
    if (!td) return;
    if (e.target.matches('input')) return;
    const input = td.querySelector('input');
    if (input) input.focus({ preventScroll: true });
  }, { passive: true });

  const sheetVirt = document.querySelector('.sheet-virt');
  const sheetT2   = document.querySelector('.sheet-t2');
  const sheetT3   = document.querySelector('.sheet-t3');

  function openSheet(which){
    document.body.classList.remove('sheet-open-virt', 'sheet-open-t2', 'sheet-open-t3');
    sheetVirt.setAttribute('aria-hidden', 'true');
    sheetT2.setAttribute('aria-hidden', 'true');
    sheetT3.setAttribute('aria-hidden', 'true');

    if (which === 'virt'){
      document.body.classList.add('sheet-open-virt');
      sheetVirt.setAttribute('aria-hidden', 'false');
    } else if (which === 't2'){
      document.body.classList.add('sheet-open-t2');
      sheetT2.setAttribute('aria-hidden', 'false');
    } else if (which === 't3'){
      document.body.classList.add('sheet-open-t3');
      sheetT3.setAttribute('aria-hidden', 'false');
    }
    document.body.style.overflow = 'hidden';
  }

  function closeSheets(){
    document.body.classList.remove('sheet-open-virt', 'sheet-open-t2', 'sheet-open-t3');
    sheetVirt.setAttribute('aria-hidden', 'true');
    sheetT2.setAttribute('aria-hidden', 'true');
    sheetT3.setAttribute('aria-hidden', 'true');
    document.body.style.overflow = '';
  }

  document.addEventListener('click', (e) => {
    const opener = e.target.closest('[data-open-sheet]');
    if (!opener) return;
    if (e.target.matches('input')) return;
    openSheet(opener.getAttribute('data-open-sheet'));
  });

  document.addEventListener('click', (e) => {
    if (e.target.closest('[data-sheet-close]')) closeSheets();
  });

  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') closeSheets();
  });

  // =========================
  // Utils
  // =========================
  function parseUAFloat(raw){
    if (raw == null) return null;
    const s = String(raw).trim().replace(/\s+/g, "").replace(/−/g, "-").replace(/,/g, ".");
    if (!s) return null;
    if (!/^[+-]?\d+(\.\d+)?$/.test(s)) return null;
    const n = Number(s);
    return Number.isFinite(n) ? n : null;
  }

  function formatUA(n, maxDp = 1){
    if (n == null || !Number.isFinite(n)) return "";
    const s = n.toFixed(maxDp);
    const trimmed = s.replace(/\.0+$/,"").replace(/(\.\d*[1-9])0+$/,"$1");
    return trimmed.replace(".", ",");
  }

  function pad2Signed(n){
    if (!Number.isFinite(n)) return "";
    const sign = n < 0 ? "-" : "";
    const a = Math.abs(Math.trunc(n));
    return sign + (a < 10 ? ("0" + a) : String(a));
  }

  function pad2Abs(n){
    if (!Number.isFinite(n)) return "";
    const a = Math.abs(Math.trunc(n));
    return a < 10 ? ("0" + a) : String(a);
  }

  // =========================
  // Inputs (оставшиеся)
  // =========================
  function getT0Input(){
    const label = Array.from(document.querySelectorAll('td[data-type="label"]'))
      .find(td => td.textContent.trim() === "t₀");
    return label?.nextElementSibling?.querySelector('input.cell-input') || null;
  }

  function getH0Input(){
    const label = Array.from(document.querySelectorAll('td[data-type="label"]'))
      .find(td => td.textContent.trim() === "H₀");
    return label?.nextElementSibling?.querySelector('input.cell-input') || null;
  }

  function getAlphaW0Input(){
    const wraps = Array.from(document.querySelectorAll('.prefix-wrap'));
    for (const w of wraps){
      const p = w.querySelector('.prefix');
      const txt = (p?.textContent || "").replace(/\s+/g, "");
      if (txt.startsWith("αw₀=")) return w.querySelector('input.prefix-input') || null;
    }
    return null;
  }

  function getW0Input(){
    const wraps = Array.from(document.querySelectorAll('.prefix-wrap'));
    for (const w of wraps){
      const p = w.querySelector('.prefix');
      const txt = (p?.textContent || "").replace(/\s+/g, "");
      if (txt.startsWith("W₀=")) return w.querySelector('input.prefix-input') || null;
    }
    return null;
  }

  // h, мп (оставленный input)
  function getHmpInput(){
    // это последний td в ряду 7 (там остался input)
    const label = Array.from(document.querySelectorAll('td[data-type="label"]'))
      .find(td => td.textContent.trim() === "-τₙ⁰");
    const row7 = label?.closest('tr');
    const inputTd = row7?.querySelector('td.has-input:last-child');
    return inputTd?.querySelector('input.cell-input') || null;
  }

  // =========================
  // Outputs (теперь не input)
  // =========================
  const out = (key) => document.querySelector(`[data-out="${key}"]`);

  // ΔTᵥ td (ряд 3, второй td)
  function getDeltaTvTd(){ return out("dTv"); }
  function getTau0Td(){ return out("tau0"); }
  function getDeltaH0Td(){ return out("dH0"); }
  function getDeltaTau0Td(){ return out("dTau0"); }

  // правые верхние слоты
  function getSlotDH0(){ return out("slotDH0"); }
  function getSlotDTau0(){ return out("slotDTau0"); }

  // -τₙ⁰ значение
  function getNegTauN0Value(){
    const labelTd = Array.from(document.querySelectorAll('td[data-type="label"]'))
      .find(td => td.textContent.trim() === "-τₙ⁰");
    const valTd = labelTd?.nextElementSibling || null;
    return parseUAFloat(valTd?.textContent ?? null);
  }

  // =========================
  // Table 1
  // =========================
  const TABLE1 = [
    { head: "Нижче 0", anchor: -1,   delta: "0"    },
    { head: "0-5",     anchor:  2.5, delta: "+0,5" },
    { head: "10-15",   anchor: 12.5, delta: "+1,0" },
    { head: "20",      anchor: 20,   delta: "+1,5" },
    { head: "25",      anchor: 25,   delta: "+2,0" },
    { head: "30",      anchor: 30,   delta: "+3,5" },
    { head: "40",      anchor: 40,   delta: "+4,5" },
  ];

  function findClosestTable1Delta(t){
    let best = TABLE1[0], bestDist = Infinity;
    for (const item of TABLE1){
      const d = Math.abs(t - item.anchor);
      if (d < bestDist){ bestDist = d; best = item; }
    }
    return best;
  }

  function updateDeltaTvFromT0(){
    const t0 = parseUAFloat(getT0Input()?.value);
    const outTd = getDeltaTvTd();
    if (!outTd) return;

    if (t0 == null){
      outTd.textContent = "";
      recalcAll();
      return;
    }

    const picked = findClosestTable1Delta(t0);
    outTd.textContent = picked.delta;
    recalcAll();
  }

  // =========================
  // ΔH₀ = H₀ - 750 (как было)
  // =========================
  function updateDeltaH0FromH0(){
    const h0 = parseUAFloat(getH0Input()?.value);
    const dH0Td = getDeltaH0Td();
    if (!dH0Td) return;

    if (h0 == null){
      dH0Td.textContent = "";
      updateRightTopSlots();
      return;
    }

    const dH0 = h0 - 750;
    dH0Td.textContent = formatUA(dH0, 1);
    updateRightTopSlots();
  }

  // =========================
  // αw₀ badge "(x : 6 = y)"
  // =========================
  function ensureAlphaW0Badge(){
    const input = getAlphaW0Input();
    if (!input) return null;
    const wrap = input.closest('.prefix-wrap');
    if (!wrap) return null;

    let badge = wrap.querySelector('.calc-badge');
    if (!badge){
      badge = document.createElement('span');
      badge.className = 'calc-badge';
      wrap.appendChild(badge);
    }
    return { input, badge };
  }

  function updateAlphaW0Badge(){
    const pair = ensureAlphaW0Badge();
    if (!pair) return;

    const raw = (pair.input.value ?? "").trim();
    const n = parseUAFloat(raw);

    if (n == null){
      pair.badge.textContent = '';
      pair.input.dataset.aw0Rounded = "";
      updateAlphaSums();
      updateBundles();
      return;
    }

    const rounded = Math.round(n / 6);
    pair.badge.textContent = `(${raw.replace(/−/g,"-")} : 6 = ${rounded})`;
    pair.input.dataset.aw0Rounded = String(rounded);

    updateAlphaSums();
    updateBundles();
  }

  function getAlphaW0Rounded(){
    const a = getAlphaW0Input();
    const v = a?.dataset?.aw0Rounded;
    if (!v) return null;
    const n = parseInt(v, 10);
    return Number.isFinite(n) ? n : null;
  }

  // =========================
  // τ₀ / Δτ₀ / Table 2
  // =========================
  function updateTau0AndDeltaTau0(){
    const t0 = parseUAFloat(getT0Input()?.value);
    const dTv = parseUAFloat(getDeltaTvTd()?.textContent);
    const negTauN0 = getNegTauN0Value();

    const tau0Td = getTau0Td();
    const dTau0Td = getDeltaTau0Td();

    if (!tau0Td || !dTau0Td) return;

    if (t0 == null || dTv == null || negTauN0 == null){
      tau0Td.textContent = "";
      dTau0Td.textContent = "";
      updateRightTopSlots();
      clearTable2Outputs();
      return;
    }

    const tau0 = t0 + dTv;
    tau0Td.textContent = formatUA(tau0, 1);

    const dTau0 = negTauN0 + tau0;
    dTau0Td.textContent = formatUA(dTau0, 1);

    updateRightTopSlots();
    fillTable2Outputs(dTau0);
  }

  function updateRightTopSlots(){
    const slotDH0 = getSlotDH0();
    const slotDTau0 = getSlotDTau0();
    if (!slotDH0 || !slotDTau0) return;

    const dh = parseUAFloat(getDeltaH0Td()?.textContent);
    const dt = parseUAFloat(getDeltaTau0Td()?.textContent);

    if (dh == null) slotDH0.textContent = "";
    else {
      let v = Math.round(dh);
      if (v < 0) v = v - 500;
      slotDH0.textContent = String(v);
    }

    if (dt == null) slotDTau0.textContent = "";
    else {
      let v = Math.round(dt);
      if (v < 0) v = v - 50;
      slotDTau0.textContent = String(v);
    }
  }

  // ---- Table2 parsing ----
  function buildTable2Map(){
    const t2 = document.querySelector('.t2-table');
    if (!t2) return null;

    const colHeads = Array.from(t2.querySelectorAll('tr:nth-child(3) th.t2-tophead'))
      .map(th => parseInt(th.textContent.trim(), 10))
      .filter(Number.isFinite);

    const map = {};
    const dataRows = Array.from(t2.querySelectorAll('tr')).filter(tr => tr.querySelector('th.t2-y'));

    for (const tr of dataRows){
      const rowKey = tr.querySelector('th.t2-y')?.textContent.trim();
      if (!rowKey) continue;

      const tds = Array.from(tr.querySelectorAll('td'));
      map[rowKey] = map[rowKey] || {};

      for (let i = 0; i < tds.length && i < colHeads.length; i++){
        const col = colHeads[i];
        const negText = tds[i].querySelector('.t2cell .neg')?.textContent?.trim() ?? "";
        const posText = tds[i].querySelector('.t2cell .pos')?.textContent?.trim() ?? "";
        const neg = parseUAFloat(negText);
        const pos = (posText === "—") ? null : parseUAFloat(posText);
        map[rowKey][String(col)] = { neg: Number.isFinite(neg) ? neg : null, pos: Number.isFinite(pos) ? pos : null };
      }
    }

    return map;
  }

  const TABLE2_MAP = buildTable2Map();

  const Y_TO_ROWKEY = {
    200: "02", 400: "04", 800: "08", 1200: "12", 1600: "16",
    2000: "20", 2400: "24", 3000: "30", 4000: "40",
  };

  function splitDeltaTau0(absInt){
    const tens = Math.floor(absInt / 10) * 10;
    const ones = absInt - tens;
    return { tens, ones };
  }

  function getT2Value(rowKey, col, sign){
    const row = TABLE2_MAP?.[rowKey];
    const cell = row?.[String(col)];
    if (!cell) return null;
    return (sign >= 0) ? cell.pos : cell.neg;
  }

  function clearTable2Outputs(){
    for (const yStr of Object.keys(Y_TO_ROWKEY)){
      const td = out(`dtauy-${yStr}`);
      if (td) td.textContent = "";
    }
    updateBundles();
  }

  function fillTable2Outputs(deltaTau0){
    const absInt = Math.round(Math.abs(deltaTau0));
    const sign = deltaTau0 >= 0 ? 1 : -1;
    const { tens, ones } = splitDeltaTau0(absInt);

    for (const [yStr, rowKey] of Object.entries(Y_TO_ROWKEY)){
      const td = out(`dtauy-${yStr}`);
      if (!td) continue;

      if (absInt === 0){
        td.textContent = "00";
        continue;
      }

      let sum = 0;
      let have = false;

      if (tens > 0){
        const v = getT2Value(rowKey, tens, sign);
        if (v != null){ sum += v; have = true; }
      }
      if (ones > 0){
        const v = getT2Value(rowKey, ones, sign);
        if (v != null){ sum += v; have = true; }
      }

      if (!have) td.textContent = "";
      else {
        if (sum < 0) sum -= 50;          // твоё правило
        td.textContent = pad2Abs(Math.round(sum)); // без минуса + ноль
      }
    }

    updateBundles();
  }

  // =========================
  // Auto-fill day/hour/min
  // =========================
  function fillDayHourMinOnLoad(){
    const firstRow = document.querySelector('.page table tr.row');
    if (!firstRow) return;

    const nums = Array.from(firstRow.querySelectorAll('input[inputmode="numeric"]'));
    if (nums.length < 3) return;

    const [dayInput, hourInput, minInput] = nums;
    if (dayInput.value.trim() || hourInput.value.trim() || minInput.value.trim()) return;

    const dt = new Date();
    const roundedMin = Math.ceil(dt.getMinutes() / 10) * 10;
    dt.setSeconds(0,0);
    dt.setMinutes(roundedMin);

    dayInput.value  = String(dt.getDate());
    hourInput.value = String(dt.getHours());
    minInput.value  = String(dt.getMinutes());
  }

  // =========================
  // Table 3 (v0 -> Wy)
  // =========================
  function buildTable3V0Map(){
    const t3 = document.querySelector('.t3-table');
    if (!t3) return null;

    const colHeads = Array.from(t3.querySelectorAll('tr:nth-child(3) th.t3-pink'))
      .map(th => parseInt(th.textContent.trim(), 10))
      .filter(Number.isFinite);

    const map = {};
    const rows = Array.from(t3.querySelectorAll('tr'));

    for (const tr of rows){
      const rowTh = tr.querySelector('th.t3-y2');
      if (!rowTh) continue;

      const m = rowTh.textContent.trim().match(/^(\d+)/);
      const y = m ? parseInt(m[1], 10) : null;
      if (!Number.isFinite(y)) continue;

      const tds = Array.from(tr.querySelectorAll('td'));
      const wyCells = tds.slice(0, colHeads.length);

      map[y] = map[y] || {};
      for (let i = 0; i < colHeads.length && i < wyCells.length; i++){
        const v0 = colHeads[i];
        const wy = parseUAFloat(wyCells[i].textContent.trim());
        map[y][v0] = Number.isFinite(wy) ? wy : null;
      }
    }

    return { colHeads, map };
  }

  const TABLE3_V0 = buildTable3V0Map();

  function pickNearestV0(v, colHeads){
    let best = colHeads[0], bestDist = Infinity;
    for (const c of colHeads){
      const d = Math.abs(v - c);
      if (d < bestDist){ bestDist = d; best = c; }
    }
    return best;
  }

  function updateWyFromW0(){
    const w0 = parseUAFloat(getW0Input()?.value);
    if (!TABLE3_V0) return;

    const col = (w0 == null) ? null : pickNearestV0(w0, TABLE3_V0.colHeads);

    for (const yStr of Object.keys(Y_TO_ROWKEY)){
      const y = Number(yStr);
      const td = out(`wy-${yStr}`);
      if (!td) continue;

      if (w0 == null || col == null){
        td.textContent = "";
        continue;
      }

      const wy = TABLE3_V0.map?.[y]?.[col] ?? null;
      td.textContent = (wy == null) ? "" : pad2Abs(Math.round(wy));
    }

    updateBundles();
  }

  // =========================
  // αw₀ + αwᵧ outputs
  // =========================
  function parseDeltaAlphaWyInt(raw){
    if (!raw) return null;
    const s = String(raw).trim().replace(/−/g,"-");
    const m = s.match(/^(-?\d+)\s*[-–—]/);
    if (!m) return null;
    const n = parseInt(m[1], 10);
    return Number.isFinite(n) ? n : null;
  }

  function updateAlphaSums(){
    const aw0 = getAlphaW0Rounded();

    for (const yStr of Object.keys(Y_TO_ROWKEY)){
      const row = document.querySelector(`tr[data-y="${yStr}"]`);
      const deltaAlphaText = row?.querySelector('td.cell-neg')?.textContent?.trim() || null;
      const awy = parseDeltaAlphaWyInt(deltaAlphaText);

      const td = out(`asum-${yStr}`);
      if (!td) continue;

      if (aw0 == null || awy == null){
        td.textContent = "";
      } else {
        td.textContent = pad2Signed(aw0 + awy);
      }
    }

    updateBundles();
  }

  // =========================
  // Bundles: "Δτᵧ αw₀+αwᵧ Wᵧ"
  // =========================
  function updateBundles(){
    for (const yStr of Object.keys(Y_TO_ROWKEY)){
      const dTauY = (out(`dtauy-${yStr}`)?.textContent || "").trim();
      const aSum  = (out(`asum-${yStr}`)?.textContent || "").trim();
      const wy    = (out(`wy-${yStr}`)?.textContent || "").trim();
      const b     = out(`bundle-${yStr}`);

      if (!b) continue;
      if (!dTauY || !aSum || !wy){
        b.textContent = "";
      } else {
        b.textContent = `${pad2Abs(parseUAFloat(dTauY) ?? NaN)} ${aSum} ${pad2Abs(parseUAFloat(wy) ?? NaN)}`;
      }
    }
  }

  // =========================
  // Recalc all
  // =========================
  function recalcAll(){
    updateDeltaH0FromH0();
    updateTau0AndDeltaTau0();
    updateAlphaSums();
    updateWyFromW0();
    updateBundles();
  }

  // =========================
  // Init
  // =========================
  (function init(){
    fillDayHourMinOnLoad();

    getT0Input()?.addEventListener("input", updateDeltaTvFromT0, { passive: true });
    getT0Input()?.addEventListener("blur",  updateDeltaTvFromT0, { passive: true });

    getH0Input()?.addEventListener("input", updateDeltaH0FromH0, { passive: true });
    getH0Input()?.addEventListener("blur",  updateDeltaH0FromH0, { passive: true });

    getAlphaW0Input()?.addEventListener("input", updateAlphaW0Badge, { passive: true });
    getAlphaW0Input()?.addEventListener("blur",  updateAlphaW0Badge, { passive: true });

    getW0Input()?.addEventListener("input", updateWyFromW0, { passive: true });
    getW0Input()?.addEventListener("blur",  updateWyFromW0, { passive: true });

    // первый прогон
    updateDeltaTvFromT0();
    updateAlphaW0Badge();
    recalcAll();
  })();
</script>












</body>
</html>
